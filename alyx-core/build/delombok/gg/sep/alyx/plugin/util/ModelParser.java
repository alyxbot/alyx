// Generated by delombok at Sun Jul 05 15:37:37 PDT 2020
package gg.sep.alyx.plugin.util;

import java.util.Optional;
import com.google.gson.Gson;
import com.google.gson.JsonSyntaxException;
import gg.sep.alyx.plugin.storage.AbstractJsonObject;

/**
 * Utility for parsing JSON strings into one of our model classes, and handles JSON exceptions.
 */
public final class ModelParser {
    @java.lang.SuppressWarnings("all")
    @lombok.Generated
    private static final org.apache.logging.log4j.Logger log = org.apache.logging.log4j.LogManager.getLogger(ModelParser.class);
    private static final Gson GSON = AbstractJsonObject.buildGson();

    /**
     * Attempts to parse the specified JSON string into the specified model class.
     *
     * If parsing was successful, will return an Optional of the class, otherwise empty.
     *
     * @param json String contents of the JSON/json file.
     * @param clazz Class of the model which the JSON is parsed into.
     * @param <T> Type of the model which the JSON is parsed into.
     * @return If parsing was successful, returns an Optional of the model's class, otherwise empty.
     */
    public static <T> Optional<T> parseJson(final String json, final Class<T> clazz) {
        try {
            return Optional.ofNullable(GSON.fromJson(json, clazz));
        } catch (final JsonSyntaxException e) {
            log.error("Error parsing JSON into models. class={}, error={}", clazz, e);
            return Optional.empty();
        }
    }

    @java.lang.SuppressWarnings("all")
    @lombok.Generated
    private ModelParser() {
        throw new java.lang.UnsupportedOperationException("This is a utility class and cannot be instantiated");
    }
}
